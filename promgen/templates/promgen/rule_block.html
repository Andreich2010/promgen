{% load i18n %}
<table class="table table-bordered table-condensed {% if collapse %}collapse" id="{{ collapse }}"{% endif %}">
  <tr>
    <th class="col-xs-2">Name</th>
    <th class="col-md-7">Clause</th>
    <th class="col-xs-1">Duration</th>
{% if show_full %}
    <th class="col-md-2">Labels</th>
    <th class="col-md-2">Annotations</th>
{% endif %}
{% if show_edit %}
    <th class="col-xs-1">Toggle</th>
    <th class="col-xs-1">Delete</th>
{% endif %}
  </tr>
  {% for rule in rule_list %}
  <tr>
    <td><a href="{% url 'rule-edit' rule.id %}">{{ rule.name }}</a></td>
    <td {% if not rule.enabled %}class="bg-disabled text-muted"{% endif %} style="word-break: break-word;">{{ rule.clause }}</td>
    <td>{{ rule.duration }}</td>
{% if show_full %}
    <td>{{ rule.labels }}</td>
    <td style="word-break: break-word;">{{ rule.annotations }}</td>
{% endif %}
{% if show_edit %}
    <td style="white-space: nowrap">
      <form method="post" action="{% url 'rule-toggle' rule.id %}" style="display: inline">
        {% csrf_token %}
        {% if rule.enabled %}
        <a href="#" class="btn btn-default btn-xs" disabled>ON</a>
        <button class="btn btn-primary btn-xs">OFF</button>
        {% else %}
        <button class="btn btn-primary btn-xs">ON</button>
        <a href="#" class="btn btn-default btn-xs" disabled>OFF</a>
        {% endif %}
      </form>
    </td>
    <td>
      <form method="post" action="{% url 'rule-delete' rule.id %}" onsubmit="return confirm('{% trans "Delete this Rule?" %}')" style="display: inline">
        {% csrf_token %}
        <button class="btn btn-danger btn-xs">{% trans "Delete" %}</button>
      </form>
    </td>
{% endif %}
  </tr>
  {% endfor %}
</table>
