{% extends "base.html" %}

{% block content %}

<div class="page-header">
  <h1>{{ view.button_label }}</h1>
</div>

<ol class="breadcrumb">
  <li><a href="{% url 'service-list' %}">Home</a></li>
{% if service %}
  <li><a href="{% url 'service-detail' service.id %}">{{ service.name }}</a></li>
{% endif %}
  <li class="active">New Rule</li>
</ol>

{% if form.non_field_errors  %}
<div class="panel panel-danger">
  <div class="panel-heading">Errors</div>
    {% for error in form.non_field_errors %}
      <div class="panel-body">{{ error|linebreaks }}</div>
    {% endfor %}
</div>
{% endif %}

<div class="panel panel-default">
  <div class="panel-heading">New Rule</div>
  <div class="panel-body">
    <form action="" method="post">{% csrf_token %}
      <div>
        {{ form.name.label_tag }}
        {{ form.name.errors }}
        {{ form.name }}
      </div>
      <div>
        {{ form.enabled.label_tag }}
        {{ form.enabled.errors }}
        {{ form.enabled }}
      </div>
      <div>
        {{ form.clause.label_tag }}
        {{ form.clause.errors }}
        {{ form.clause }}
      </div>
      <div>
        {{ form.duration.label_tag }}
        {{ form.duration.errors }}
        {{ form.duration }}
      </div>
      <button class="btn btn-primary">Register Rule</button>
    </form>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading">Import Rule</div>
  <div class="panel-body">
    <form action="" method="post">{% csrf_token %}
        <textarea class="form-control" name="rules"></textarea>
        <button class="btn btn-primary">Import Rule</button>
    </form>
  </div>
</div>

{% endblock %}
